{% extends "blocks/block.twig" %}

{# List Block #}

{% block content %}	
<div class="contain-md">

	{% set type = blck.list_type %}
	{% set display = blck.list_display %}

	{% if type == 'connected' %}
		{% set list = blck.connected_content %}
	{% elseif type == 'free_form' %}
		{% set list = blck.freeform_items %}
	{% elseif type == 'faq' %}
		{% set list = blck.q_and_a %}
	{% endif %}

	{% if blck.list_title %}
		<h4 class="list-title">{{blck.list_title}}</h4>
	{% endif %}

	<ul class="list {% if display %}list-{{display}} {% endif %}{{ blck.css_class ? blck.css_class}}">

		{% for item in list %}
			<li>

				{% if type != 'faq'  %}
				<div class="item-support">
					
					{% if type != 'connected' %}
						
						{% if item.image and item.svg is empty %}
							<img src="{{TimberImage(item.image).src('medium')}}" alt="{{item.post_title}}"/>
						{% endif %}

						{% if item.svg %}
							<svg viewBox="0 0 100 100" class="icon icon-{{item.svg}}">
								<use xlink:href="#icon-{{item.svg}}"></use>
							</svg>
						{% endif %}

						{% if item.svg is empty and item.image is empty %}
							<img src="{{site.theme.link}}/assets/img/util/placeholder.png" alt="{{item.post_title}}" />
						{% endif %}

					{% elseif type == 'connected' %}

						<img src="{{item.thumbnail.src}}" alt="{{item.post_title}}"/>
					
					{% endif %}
					
				</div> <!-- /.item-support -->
				<div class="item-main">

					{% if type == 'connected' %}
						<h4 class="item-title">{{item.post_title}}</h4>
						<p>{{item.preview}}</p>
					{% elseif type == 'free_form' %}
						<h4 class="item-title">{{item.item_title}}</h4>
						<p>{{item.description}}</p>
						{% for related in item.related_content %}
							{{related.link}}
							<p><a href="{{related.link}}" title="{{related.post_title}}">Read more on our {{related.post_title}} page.</a></p>
						{% endfor %}
					{% endif %}

				</div> <!-- /.item-main -->

				{% elseif type == 'faq'  %}
					<h5>{{item.question}}</h5>
					<p>{{item.answer}}</p>
				{% endif %}

			</li>
		{% endfor %}
			
	</ul> <!-- /.list-{{display}} -->
	
</div>
{% endblock %}