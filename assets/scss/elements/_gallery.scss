
.gallery {

	br { // Generated from WP
		display: none;
	}

	display: grid;
	grid-column-gap: $grid-gap;
	grid-row-gap: $grid-gap;
	grid-template-rows: repeat(auto-fill, auto);

	// TODO, this is redundant to fig-large, move to a mixin
	@include bp(med) {
		margin-right: -$h1*2;
		width: calc(100% + #{$h1});
	}

	@include bp(large) {
		width: calc(100% + #{($h1*2) + $grid-gap});
		margin-right: -$h1*3;
	}

	@include bp(small) {
		&-columns-2,
		&-columns-3,
		&-columns-4 {
			grid-template-columns: repeat(2, 1fr);
		}
	}

	@include bp(med) {
		&-columns-3 {
			grid-template-columns: repeat(3, 1fr);
		}
	}

	@include bp(large) {
		&-columns-4 {
			grid-template-columns: repeat(4, 1fr);
		}
	}
}

.gallery-caption {
	@include meta($text-med);
}

.gallery-item {

	img {
		width: 100%;
		height: auto;
	}

	// TODO new style for galleries
	// width: calc

	// .gallery-columns-3 & {
	// 	@include make-md-column($c/3, false);
	// }

	// .gallery-columns-4 & {
	// 	@include make-sm-column($c/2, false);
	// 	@include make-md-column($c/4, false);
	// }

}